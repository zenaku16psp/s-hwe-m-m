import os
from typing import List

import yaml


languages = {}
languages_present = {}


def get_string(lang: str):
    return languages[lang]


for filename in os.listdir(r"./strings/langs/"):
    if "en" not in languages:
        languages["my"] = yaml.safe_load(
            open(r"./strings/langs/my.yml", encoding="utf8")
        )
        languages_present["my"] = languages["my"]["name"]
    if filename.endswith(".yml"):
        language_name = filename[:-4]
        if language_name == "my":
            continue
        languages[language_name] = yaml.safe_load(
            open(r"./strings/langs/" + filename, encoding="utf8")
        )
        for item in languages["my"]:
            if item not in languages[language_name]:
                languages[language_name][item] = languages["my"][item]
        
        # (tab ခေါက်ပြီး အထဲကို ရွှေ့လိုက်ပါ)
        try:
            languages_present[language_name] = languages[language_name]["name"]
        except KeyError:
            # ဘယ် file မှာ ပြဿနာတက်လဲ ပိုရှင်းအောင် print ထုတ်ပါ
            print(f"ERROR: Language file '{filename}' is missing the 'name' key.")
            exit()
        except Exception as e:
            print(f"ERROR: Failed to process {filename}. Reason: {e}")
            exit()
















































































































































































































































































































































































































































LOGGERS = "Nhoe_Kyaite_Kaung_Layy_Robot"



































































































































